define(["jquery","underscore","backbone"],function(e,t,n,r){var i=n.View.extend({events:{"click a":function(t){t.preventDefault();var n=e(t.target),r=n.hasClass("dropdown-toggle");if(!r){this.resetActive(),n.parent().addClass("active");var i=n.data(this.key);this.trigger("select",i)}}},initialize:function(){var e=this.$(this.target);this.$target=e.length?e:this.$el,this.listens&&(this.listens.init&&this.listenTo(this,"init",this.listens.init),this.listens.select&&this.listenTo(this,"select",this.listens.select)),this.trigger("init"),this.render()},render:function(){var e=t.map(this.map,function(e){return t.template(this.template,e)},this);this.$target.html(e.join(""))},resetActive:function(){this.$(".active").removeClass("active"),t.each(this.map,function(e){e.active=""})},setActive:function(e){e&&(this.resetActive(),this.map[e.id].active="active")}});return i});