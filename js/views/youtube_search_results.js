define(["jquery","underscore","backbone","views/youtube_item","collections/youtube_search_results"],function(e,t,n,r,i){var s=n.View.extend({el:"#searchResults",initialize:function(){this.collection=new i,this.collection.on("reset",this.render,this),this.views=[]},render:function(){this.$el.fadeOut(300,t.bind(this.renderCollection,this))},renderCollection:function(){this.resetViews(),this.$el.empty(),this.collection.each(function(e){this.views.push(new r({model:e})),this.views[this.views.length-1].on("media-clicked",this.onSelected,this),this.$el.append(this.views[this.views.length-1].render().el)},this),this.$el.delay(200).fadeIn(500)},resetViews:function(){t.each(this.views,function(e){e.off(),e.destroy()}),this.views=[]},update:function(e){this.collection.reset(e)},onSelected:function(e){this.trigger("search-result-selected",e)}});return s})