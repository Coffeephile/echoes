define(["jquery","underscore","backbone","models/results_navigation","text!templates/results_navigation.html"],function(e,t,n,r,i){var s=n.View.extend({el:"#results-navigator",events:{"click .next":"onNextClick","click .prev":"onPrevClick"},initialize:function(){this.template=t.template(i),this.model.youtube().on("new-media-response",this.update,this),this.navModel=new r,this.navModel.on("change",this.render,this)},render:function(){return this.$el.html(this.template(this.navModel.toJSON())),this},onNextClick:function(e){e.preventDefault(),this.model.youtube().set("startIndex",this.navModel.getNextIndex())},onPrevClick:function(e){e.preventDefault(),this.model.youtube().set("startIndex",this.navModel.getPrevIndex())},update:function(e){this.navModel.set(e),this.$el.toggleClass("prev-disabled",this.navModel.get("startIndex")===1)}});return s})