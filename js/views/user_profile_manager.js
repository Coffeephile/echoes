define(["jquery","underscore","backbone"],function(e,t,n){var r=Backbone.View.extend({el:"#user-profile",events:{"click .sign-in":"signIn","click .sign-out":"signOut"},initialize:function(){this.model.user().on("change",this.renderUsername,this)},renderUsername:function(e){this.$(".icon-user").css("backgroundImage","url("+e.getThumbnail()+")"),this.$(".username").html(e.getUsername()),this.$el.addClass("user-signed-in")},connect:function(e){window.open(e,"hybridauth_social_sing_on","location=0,status=0,scrollbars=0,width=800,height=500")},signIn:function(e){e.preventDefault();var t=this.model.getSignin()+"provider=google&return_to="+location.origin+location.pathname+"&_ts="+(new Date).getTime();this.connect(t)},signOut:function(e){e.preventDefault();var t=this.model.getSignout()+"logout=Google&_ts="+(new Date).getTime();this.connect(t)}});return r})