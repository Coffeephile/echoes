define(["jquery","underscore","backbone","views/youtube_user_playlist_item","collections/youtube_playlists_provider","collectionView"],function(e,t,n,r,i,s){var o=s.extend({el:"#user-playlists",collection:i,view:r,broadcasts:{"playlist-selected":"onPlaylistSelected"},initialize:function(){this.model.user().on("change",this.onUserChange,this)},onUserChange:function(e){this.collection.username=e.getUsername(),this.collection.fetch()},renderCollection:function(){this.resetViews(),this.collection.each(function(e){var t=this.views.length;this.views.push(new this.view({model:e})),this.delegateBroadcasts(this.views[t]),this.$el.append(this.views[t].render().el)},this)},onPlaylistSelected:function(){this.$el.find(".active").removeClass("active")}});return o})