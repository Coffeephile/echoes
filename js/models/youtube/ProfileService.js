define(["underscore","backbone","../gapi"],function(e,t,n){var r=n.extend({url:function(){return gapi.client.youtube.channels},scopes:"https://www.googleapis.com/auth/youtube",immediate:!0,client:{api:"youtube",version:"v3"},initialize:function(){this.listenTo(this,"load:client",this.getProfile),this.listenTo(this,"change:items",this.onProfileChange)},onProfileChange:function(){var e={};this.attributes.items&&this.attributes.items.length&&(e=this.attributes.items[0].contentDetails.relatedPlaylists,e&&this.trigger("loaded",e))},getProfile:function(){this.fetch()},methods:{list:{part:"snippet,contentDetails",mine:!0}},defaults:{},getFavoritesId:function(){var e=this.get("items");return e?e[0].contentDetails.relatedPlaylists.favorites:""},picture:function(e){var t=this.get("items"),n=t.length?t[0].snippet.thumbnails:{},r="";return n&&(r=n[e]?n[e].url:n.default.url),r},title:function(){var e=this.get("items");return e.length?e[0].snippet.title:""},isSignedIn:function(){var e=gapi.auth.getToken(),t=!1;return e&&(t=e.status&&e.status.google_logged_in),t}});return r});