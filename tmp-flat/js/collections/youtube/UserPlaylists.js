define(["backbone","models/youtube/YoutubePlaylistItemsService","models/youtube/PlaylistsService","models/youtube/playlist-items"],function(e,t,n,r){var i=e.Collection.extend({model:t,factory:new n,provider:new n,updater:new r,initialize:function(){this.listenTo(this.provider,"change:items",this.updateItems),this.listenTo(this.updater,"change:result",this.addResource)},comparator:function(e){return e.attributes.snippet.title.toLowerCase()},insert:function(e,t){this.updater.insert(e,t)},create:function(e){this.factory.get("resource").snippet.title=e.title,this.factory.create(),this.factory.set(this.factory.defaults,{silent:!0})},list:function(){this.provider.fetch()},updateItems:function(e,t){t&&this.set(t),this.trigger("update",t)},addResource:function(e){this.trigger("added",e)}});return i});